{% extends "global/base.html" %}

{% block content %}
    <div class="form__wrapper">

        <h2>Contact</h2>

        <form 
            action= "{{  form_action  }}"
            method="POST"
            enctype="multipart/form-data"
        >

            {% csrf_token %}

            <div class="form__content">
                {% for field in form %}
                    <div class="form__group">
                        <label for="{{  field.id_for_label  }}">{{ field.label  }}</label>
                        {{ field }}
                        {{ field.errors }}
                    </div>

                    {% if field.name == "picture" and field.value.url %}
                        <div class="form__group">
                            <img src="{{ field.value.url }}" alt="image">
                        </div>
                    {% endif %}

                {% endfor %}
            </div>
            
            {% comment %} 
            this is a non field error, it should be displayed above the form, if it exists
            {% endcomment %}

            {% if form.non_field_errors %}
                <div class="form__content">
                    <div class="form__group">
                        <div class="message error">
                            {{ form.non_field_errors }}
                        </div>
                    </div>
                </div>
            {% endif %}  


            <div class="form__content">
                <div class="form__group">
                    <button class="button" type="submit">Send</button>
                </div>
            </div>

        </form>
    </div>
{% endblock content %}
